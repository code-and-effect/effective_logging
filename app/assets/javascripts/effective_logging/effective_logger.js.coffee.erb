class @EffectiveLogger
  @log = (message, status = 'info', details...) ->
    $.ajax
      type: 'POST',
      url: '/logs.json'
      data:
        effective_log:
          message: message
          status: status
          details: JSON.stringify(details)
    true

<% EffectiveLogging.statuses.each do |status| %>
  <%= "@#{status} = (message, details...) -> @log(message, '#{status}', details)" %>
<% end %>
